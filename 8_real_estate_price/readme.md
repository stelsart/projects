Исследование объявлений о продаже квартир

В наличии данные по недвижимости — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. 

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма.


Был изучен архив объявлений за несколько лет о продаже квартир в Санкт-Петербурге и соседних населённых пунктах. В данных оказались пропуски в: высоте потолков, этажей всего, жилая площадь, аппартаменты, площадь кухни, балконы, название населённого пункта, ближайший аэропорт, расстояние до центра города, парки вокруг, расстояние до ближ парка, водоемы вокруг, расстояние до ближ водоема, дни размещения объявления. Итого 14 позиций. Столбцы: Аппартаменты, балконы, парки вокруг, водоемы вокруг - заменили на 0, тк с большей долей вероятности их нет. В первом грубом приближении мы увмдели, что в нашем датасете объявлений о квартирах имеют:

фото в количестве от 0 до 25 шт. в среднем 7-8. тип int64
площадь до 300 кв м. В большинтсве до 100 кв м тип float64
по ценам нужно изучать детальнее. тип float64
кол-во комнат до 7-8. В среднем 2-3. тип int64
высота потолка до 10 метров.надо изучать. тип float64
этажность до 38. В среднем до 5. тип float64
Жэилая площадть до 200 м. В среднем до 50. тип float64
этаж до 28. В среднем до 5. тип int64
площадь кухни до 60 м. В среднем до 10. тип float64
балконы до 5. в среднем 1. тип float64
аэропорт до 80 км. В срднем 20км. тип float64
центр города до 60 км. В среднем 10. тип float64
до 3 парков вокруг. в среднем 0. тип float64
до 2,5 км ближайший парк. В среднем 0,5 км. тип float64
водоемов до 3. В среднем 0. тип float64
до водоема до 1,4 км. в среднем 0,5км. тип float64
объявления рамзещались до 4 лет. в среднем до 1 года . тип float64
Явных дубликатов нет. заменяем пустые значение в столбце аппартаментов на False и меняем тип на bool. Если не указали вероятнее всего это жилое помещение. А так же меняем тип на int этаж, чтобы привести все столбцы с этажами к единому типу и балконы.

Изучив отсортированные уникальные значения датасета мы видим: убираем аномальные значения в столбцах (не более 1% данных на кажлдый столбец): 1 комнаты убираем все что больше 8 комнат 2 площать общая убираем все что больше 250 и меньше 20 кв.м. 3 потолки убираем все что больше 4.5 и меньше 2.33 м 4 убираем значения времени объвяления меньше 3 и больше 1200 дней 5 на основании таблицы квантилей выбираем вилку значений цены 600тыс-124 млн 6 на основании таблицы квантилей выбираем вилку жилой площади 10-220 кв.м. 7 на основании таблицы квантилей выбираем вилку кухонной площади 3.8-220 кв.м. Остальное убираем 8 на основании таблицы квантилей выбираем вилку этажности зданий 2-35 эт. Остальное убираем 9 Населенный пункт - необходимо проверить на неявные дубликаты и убрать пропущенные значения.

Остальные пропуски оставляем без изменений.

Причиной пропусков в высоте потолков, этажей всего, жилая площадь, аппартаменты, площадь кухни, балконы - может быть как человеческий фактор(не внесли), так и ошибка выгрузки. В то время как название населённого пункта, ближайший аэропорт, расстояние до центра города, парки вокруг, расстояние до ближ парка, водоемы вокруг, расстояние до ближ водоема, дни размещения объявления - вероятнее всего это техническая ошибка выгрузки, тк все вышеперечисленные данные просчитываются системой.

Сделали предобоаботку данных. Осталось к изучению 21169 строк (примерно 90% от исходных данных)

Анализ данных По общей площади - квартиры идут от 20 до 250 кв.м. Наибольшее кол-во объявлений с площадью около 40 кв.м. Похоже на распределение Пуассона. Чем больше площадь тем меньше предложений. По жилой площади - квартиры идут от 10 до 200 кв.м. Наибольшее кол-во объявлений с площадью 20 и 30 кв.м. По площади кухни - квартиры идут от 3.8 до 68 кв.м. Наибольшее кол-во объявлений с площадью около 7-12 кв.м. По стоимости - квартиры идут от 600 тыс до 124 млн. Наибольшее кол-во предложений в среднем по 4 млн руб. По количеству комнат - квартиры идут от 1 до 7. Наибольшее кол-во предложений с 1-3 комнатами. По высоте потолков квартиры от 2.4 до 4.5 метров. Наибольшее кол-во предложений с потолком 2.5-2.7 метра. Этажность от 1 до 33. Больше всего предложений с 1 по 5 этажи Больше всего квартир на промежуточных этажах примерно 73%. Остальные примерно в вравных долях на 1 и на последнем В датасете присутсвуют дом от 2 до 35 этажей. Большая часть домов 5 и 9 этажки. Дома расположены от 181 метра до почти 66 км от центра ближайшего города. У большинства домов расстояние в среднем примерно 14 км. Большинство домов расположены в среднем на расстоянии от 18 до 27 км до ближайшего аэропорта. Но есть те кто расположен рядом и те кто в почти 85 км. Дома(в которых указали этот параметр - их примерно 30% от общего числа) расположены от 1 до 3190 метров до ближ парка. Большая часть из них от 287 до 610. В остальных предложениях скорее всего парка рядом нет. По месяцам больше всего публикаций в феврале, марте, ноябре и апреле. Меньше всего в январе и мае. Видимо из-за больших праздников. По дням больше всего в четверг, но данные примерно равны во все дни кроме выходных - тут размещений значительно меньше. Среднее значение срока размещения составляет 185 дней. Медианное значение 102 дня. Большинство квартир продаются в срок до полугода. Быстрой можно считать продажу сделанную в теч 44 дней, а долгую более 239 дней. Есть и необычно долгие значинеия до 5 лет - видимо объект находится в глухом поселке или его состояние очень неликвидное или цена непомерно завышена. Есть и аномальное значание в 1-несколько дней. Возможно человек повесил объявление и потом передумал продавать -снял. Так же наблюдаются всплески в районе 45 и 60 дней. Это сявзано с истечением срока пуликации, установленного "Яндексом". C годами мы видим увеличение средней скорости продаж.

Мы наблюдаем прямую зависмость цены от общей, жилой и кухонной площади, а так же от кол-ва комнат. По этажам - средняя цена более высокая на категорию 'другой'. Первые этажи предпочитают меньше, что отражается на цене. Цена не зависти от месяца и дня размещения. Мы наблюдаем тренд снижения средних с цен с 2014 по 2018 годы. Так же мы нблюдаем наибольшее кол-во объявлений в 207 и 2018 годах. В 2016 и 2019 в 3 раза меньше. В 2015 в 7 рвз меньше, а в 2014 всего 100 объявлений. И наблюдается тенденция к снижению средней площади квартир с годами.

Из топ 10 по объявлениям: самый дорогой кв. метр в Санкт-Петербурге и Пушкине. Самый дешевый в Гатчине

Мы наблюдаем снижение стоимости квартир по мере удаления от центра. Но есть и вбросы с районе 45, 55 км и 7 км. от центра. На этих интервалах мы видим значительное снижение предложений в сравнении с соседними км., видимо из-за этого растет и цена.